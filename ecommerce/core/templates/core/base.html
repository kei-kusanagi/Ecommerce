{% load webpack_loader static %}
<!DOCTYPE html>
<html>
    <head>
        <!-- <script src="https://cdn.tailwindcss.com"></script> -->
        <!-- CSS Tailwind -->
        <!-- <link rel="stylesheet" href="{% static 'css/style.css' %}"> -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- <link rel="stylesheet" href="{% static 'css/main.min.css' %}"> -->
        {% stylesheet_pack 'app' %}
        <title>{% block title %}{% endblock %} | VelvetIT®</title>
    </head>

    <div class="">
    <body>
        <div  class="bg-white dark:bg-gray-900 transition-colors duration-300 p-2 py-4">
            <nav class="border-b border-gray-300">
                <div class="text-blue-500 flex items-center justify-between max-w-6xl px-6 py-2 mx-auto xl:px-0">
                    <div class="flex items-center space-x-6 menu-left">
                        <a href="{% url 'frontpage' %}" class="py-4 text-lg font-semibold text-blue-500">VelvetIT®</a>

                        <ul class="flex items-center space-x-4 text-gray-800 dark:text-gray-300">
                            <li><a href="{% url 'shop' %}">Shop</a></li>
                            <li><a href="#">About</a></li>

                            {% if request.user.is_authenticated %}
                                <li><a href="{% url 'logout' %}">Log out</a></li>
                            {% endif %}
                        </ul>
                    </div>

                    <div class="flex items-center space-x-4 menu-right">
                        <a href="{% url 'myaccount' %}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </a>
                        
                        <div
                            hx-get="{% url 'hx_menu_cart' %}"
                            hx-trigger="update-menu-cart from:body"
                            hx-swap="innerHTML"
                        >
                            {% include 'cart/partials/menu_cart.html' %}
                        </div>

                        <button
                            class="p-4absolute top-5 right-5 w-10 h-5 md:w-12 md:h-6 rounded-2xl bg-gray-300 dark:bg-sky-800 flex items-center transition duration-300 focus:outline-none shadow"
                            onclick="toggleTheme()">
                            <div
                                id="switch-toggle"
                                class="w-6 h-6 md:w-7 md:h-7 relative rounded-full transition duration-500 transform bg-yellow-500 -translate-x-2 p-1 text-white ">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                                </svg>
                            </div>
                        </button>

                        <!-- <div class="px-4 py-4 m-10 bg-red-500 p10 rounded-xl dark:bg-red-900 dark:text-white text-center">Red</div>
                        <div class="px-4 py-4 m-10 bg-blue-500 p10 rounded-xl dark:bg-blue-900 dark:text-white text-center">Blue</div>
                        <div class="px-4 py-4 m-10 bg-green-500 p10 rounded-xl dark:bg-green-900 dark:text-white text-center">Green</div>
                        <div class="px-4 py-4 m-10 bg-purple-500 p10 rounded-xl dark:bg-purple-900 dark:text-white text-center">Purple</div>
                        <div class="px-4 py-4 m-10 bg-yellow-500 p10 rounded-xl dark:bg-orange-500 dark:text-white text-center">Yellow</div> -->
                        
                    </div>  
                </div>
            
            </nav>

            <main>
                {% block content %}
                {% endblock %}
            </main>

            <footer class="bg-gray-300 dark:bg-gray-700">
                <div class="justify-between max-w-6xl px-6 py-10 mx-auto xl:px-0 md:flex">
                    <div class="text-blue-500 mb-12 footer-left md:mb-0">
                        <h2 class="mb-5 text-lg uppercase">About us</h2>

                        <p class="text-gray-700 dark:text-gray-200">Lorem ipsum bla bla bla..</p>
                    </div>

                    <div class="footer-right">
                        <h2 class="text-blue-500 mb-5 text-lg uppercase">Social links</h2>
                        <script src="https://kit.fontawesome.com/e73b7c7aad.js" crossorigin="anonymous"></script>
                        <ul class="space-y-2">
                                                    
                            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
                            <div class="wrapper">

                                <div class="button">
                                <div class="icon">
                                    <i class="fa-brands fa-facebook"></i>
                                </div>
                                    <a href="https://www.facebook.com/keikusanagi99/" target="_blanc"><span>Facebook</span></a>
                                </div>

                                <div class="button">
                                <div class="icon">
                                    <i class="fa-brands fa-twitter"></i>
                                </div>
                                    <a href="https://twitter.com/Keikusanagi99" target="_blanc"><span>Twitter</span></a>
                                </div>

                                <div class="button">
                                <div class="icon">
                                    <i class="fa-brands fa-instagram"></i>
                                </div>
                                    <a href="https://www.instagram.com/kei_kusanagi/" target="_blanc"><span><span>Instagram</span></a>
                                </div>

                                <div class="button">
                                <div class="icon">
                                    <i class="fa-brands fa-youtube"></i>
                                </div>
                                    <a href="https://www.youtube.com/keikusanagi99" target="_blanc"><span><span>YoutTube</span></a>
                                </div>

                                <div class="button">
                                <div class="icon">
                                    <i class="fa-solid fa-envelope-circle-check"></i>                                    
                                </div>
                                   <a href="{% url 'contact' %}"><span>Contact</span></a>
                                </div>

                            </div>
                        
                        </ul>
                    </div>
                </div>
            </footer>

            <script src="https://unpkg.com/htmx.org@1.7.0"></script>
        </div>
        {% javascript_pack 'app' %}
        
        {% block scripts %}
        {% endblock %}
    </div>
    </body>
    </div>
</html>

<script>
    // Business logic to trigger dark mode.
    const switchToggle = document.querySelector('#switch-toggle');
    const html = document.querySelector('html');
    let isDarkmode = false;
    const localDarkmode = JSON.parse(localStorage.getItem('isDarkmode'));
    const darkIcon = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
    </svg>`;
    const lightIcon = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
    </svg>`;
    // Jika ada isDarkmode di localstorage 
    if (localDarkmode) {

    html.classList.add('dark');
    } else {
    html.classList.remove('dark');
    }
    function toggleTheme () {
    isDarkmode =!isDarkmode;
    localStorage.setItem('isDarkmode', false);
    switchTheme();
    }
    function switchTheme (){
    if (isDarkmode) {
    html.classList.add('dark');
    switchToggle.classList.remove('bg-yellow-500','-translate-x-2');
    switchToggle.classList.add('bg-gray-700','translate-x-full');
    setTimeout(() => {
    switchToggle.innerHTML = darkIcon;
    }, 250);
    } else {
    html.classList.remove('dark');
    switchToggle.classList.add('bg-yellow-500','-translate-x-2');
    switchToggle.classList.remove('bg-gray-700','translate-x-full');

    setTimeout(() => {
    switchToggle.innerHTML = lightIcon;
    }, 250);
    }
    }
    switchTheme();
</script>